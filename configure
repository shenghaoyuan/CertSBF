#!/bin/sh

usage='Usage: ./configure [option] ...
Use the option "--help" to list the available options.
'

help='Usage: ./configure [option] ...

Available options:

  --isabelledir=DIR         set the directory of your instaleed Isabelle/HOL

  --help                      show this help
'

while : ; do
    case "$1" in
        --isabelledir=*)
            isabelledir="${1#*=}" ;;
        -isabelledir|--isabelledir)
            isabelledir="$2" ; shift ;;
        "")
            # End of arguments
            break ;;
        -help|--help)
            echo "$help" ; exit 0 ;;
        -*)
            echo "Unknown option: $1" ; echo "$usage" ; exit 1 ;;
    esac
    shift
done

# generate Makefile.config

cat > Makefile.config << EOF
ISABELLE_DIR := $isabelledir
EOF

echo "The following configuration was saved in Makefile.config:"
echo
cat Makefile.config
